!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.GLCat=e():t.GLCat=e()}(this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(0)),o=function(){function t(t,e){this.glCat=t,this.buffer=e}return t.prototype.dispose=function(){this.glCat.getRenderingContext().deleteBuffer(this.buffer)},t.prototype.getBuffer=function(){return this.buffer},t.prototype.setVertexbuffer=function(t,e){void 0===e&&(e=i.default.STATIC_DRAW);var r=this.glCat.getRenderingContext();r.bindBuffer(r.ARRAY_BUFFER,this.buffer),r.bufferData(r.ARRAY_BUFFER,t,e),r.bindBuffer(r.ARRAY_BUFFER,null)},t.prototype.setIndexbuffer=function(t,e){void 0===e&&(e=i.default.STATIC_DRAW);var r=this.glCat.getRenderingContext();r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t,e),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)},t}();e.GLCatBuffer=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(0)),o=function(){function t(t,e){this.renderbuffer=null,this.texture=null,this.glCat=t,this.framebuffer=e}return t.prototype.dispose=function(){this.glCat.getRenderingContext().deleteFramebuffer(this.framebuffer)},t.prototype.getFramebuffer=function(){return this.framebuffer},t.prototype.getRenderbuffer=function(){return this.renderbuffer},t.prototype.getTexture=function(){return this.texture},t.prototype.attachRenderbuffer=function(t,e){void 0===e&&(e=i.default.DEPTH_ATTACHMENT);var r=this.glCat.getRenderingContext();r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,e,r.RENDERBUFFER,t.getRenderbuffer()),r.bindFramebuffer(r.FRAMEBUFFER,null),this.renderbuffer=t},t.prototype.attachTexture=function(t,e){void 0===e&&(e=i.default.COLOR_ATTACHMENT0);var r=this.glCat.getRenderingContext();r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,e,r.TEXTURE_2D,t.getTexture(),0),r.bindFramebuffer(r.FRAMEBUFFER,null),this.texture=t},t}();e.GLCatFramebuffer=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(0)),o=function(){function t(t,e){this.shaders=null,this.attribLocationCache={},this.uniformLocationCache={},this.linked=!1,this.glCat=t,this.program=e}return t.prototype.dispose=function(){this.glCat.getRenderingContext().deleteProgram(this.program)},t.prototype.isLinked=function(){return this.linked},t.prototype.getProgram=function(){return this.program},t.prototype.getShaders=function(){return this.shaders?this.shaders.concat():null},t.prototype.link=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.glCat.getRenderingContext();e.forEach(function(e){return n.attachShader(t.program,e.getShader())}),n.linkProgram(this.program),this.linked=n.getProgramParameter(this.program,n.LINK_STATUS),this.linked?this.shaders=e.concat():this.glCat.spit(n.getProgramInfoLog(this.program))},t.prototype.attribute=function(t,e,r,n,o,E,_){void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=i.default.FLOAT),void 0===E&&(E=0),void 0===_&&(_=0);var T=this.glCat.getRenderingContext(),u=this.getAttribLocation(t);if(-1!==u)if(null!==e){T.bindBuffer(T.ARRAY_BUFFER,e.getBuffer()),T.enableVertexAttribArray(u),T.vertexAttribPointer(u,r,o,!1,E,_);var R=this.glCat.getExtension("ANGLE_instanced_arrays");R&&R.vertexAttribDivisorANGLE(u,n),T.bindBuffer(T.ARRAY_BUFFER,null)}else T.disableVertexAttribArray(u)},t.prototype.uniform1i=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform1i(n,e)},t.prototype.uniform2i=function(t,e,r){var n=this.glCat.getRenderingContext(),i=this.getUniformLocation(t);n.uniform2i(i,e,r)},t.prototype.uniform3i=function(t,e,r,n){var i=this.glCat.getRenderingContext(),o=this.getUniformLocation(t);i.uniform3i(o,e,r,n)},t.prototype.uniform4i=function(t,e,r,n,i){var o=this.glCat.getRenderingContext(),E=this.getUniformLocation(t);o.uniform4i(E,e,r,n,i)},t.prototype.uniform1iv=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform1iv(n,e)},t.prototype.uniform2iv=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform2iv(n,e)},t.prototype.uniform3iv=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform3iv(n,e)},t.prototype.uniform4iv=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform4iv(n,e)},t.prototype.uniform1f=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform1f(n,e)},t.prototype.uniform2f=function(t,e,r){var n=this.glCat.getRenderingContext(),i=this.getUniformLocation(t);n.uniform2f(i,e,r)},t.prototype.uniform3f=function(t,e,r,n){var i=this.glCat.getRenderingContext(),o=this.getUniformLocation(t);i.uniform3f(o,e,r,n)},t.prototype.uniform4f=function(t,e,r,n,i){var o=this.glCat.getRenderingContext(),E=this.getUniformLocation(t);o.uniform4f(E,e,r,n,i)},t.prototype.uniform1fv=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform1fv(n,e)},t.prototype.uniform2fv=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform2fv(n,e)},t.prototype.uniform3fv=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform3fv(n,e)},t.prototype.uniform4fv=function(t,e){var r=this.glCat.getRenderingContext(),n=this.getUniformLocation(t);r.uniform4fv(n,e)},t.prototype.uniformMatrix2fv=function(t,e,r){void 0===r&&(r=!1);var n=this.glCat.getRenderingContext(),i=this.getUniformLocation(t);n.uniformMatrix2fv(i,r,e)},t.prototype.uniformMatrix3fv=function(t,e,r){void 0===r&&(r=!1);var n=this.glCat.getRenderingContext(),i=this.getUniformLocation(t);n.uniformMatrix3fv(i,r,e)},t.prototype.uniformMatrix4fv=function(t,e,r){void 0===r&&(r=!1);var n=this.glCat.getRenderingContext(),i=this.getUniformLocation(t);n.uniformMatrix4fv(i,r,e)},t.prototype.uniformTexture=function(t,e,r){void 0===r&&(r=0);var n=this.glCat.getRenderingContext(),i=this.getUniformLocation(t);n.activeTexture(n.TEXTURE0+r),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(i,r)},t.prototype.uniformCubemap=function(t,e,r){void 0===r&&(r=0);var n=this.glCat.getRenderingContext(),i=this.getUniformLocation(t);n.activeTexture(n.TEXTURE0+r),n.bindTexture(n.TEXTURE_CUBE_MAP,e),n.uniform1i(i,r)},t.prototype.getAttribLocation=function(t){var e=this.glCat.getRenderingContext();if(void 0!==this.attribLocationCache[t])return this.attribLocationCache[t];var r=e.getAttribLocation(this.program,t);return this.attribLocationCache[t]=r,r},t.prototype.getUniformLocation=function(t){var e=this.glCat.getRenderingContext();if(void 0!==this.uniformLocationCache[t])return this.uniformLocationCache[t];var r=e.getUniformLocation(this.program,t);return this.uniformLocationCache[t]=r,r},t}();e.GLCatProgram=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(0)),o=function(){function t(t,e){this.width=0,this.height=0,this.glCat=t,this.renderbuffer=e}return t.prototype.dispose=function(){this.glCat.getRenderingContext().deleteRenderbuffer(this.renderbuffer)},t.prototype.getRenderbuffer=function(){return this.renderbuffer},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.init=function(t,e,r){void 0===r&&(r=i.default.DEPTH_COMPONENT16);var n=this.glCat.getRenderingContext();n.bindRenderbuffer(n.RENDERBUFFER,this.renderbuffer),n.renderbufferStorage(n.RENDERBUFFER,r,t,e),n.bindRenderbuffer(n.RENDERBUFFER,null),this.width=t,this.height=e},t}();e.GLCatRenderbuffer=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(0)),o=function(){function t(t,e){this.width=0,this.height=0,this.glCat=t,this.texture=e}return t.prototype.dispose=function(){this.glCat.getRenderingContext().deleteTexture(this.texture)},t.prototype.getTexture=function(){return this.texture},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.textureFilter=function(t,e){void 0===t&&(t=i.default.NEAREST),void 0===e&&(e=t);var r=this.glCat.getRenderingContext();r.bindTexture(r.TEXTURE_2D,this.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,e),r.bindTexture(r.TEXTURE_2D,null)},t.prototype.textureWrap=function(t,e){void 0===t&&(t=i.default.CLAMP_TO_EDGE),void 0===e&&(e=t);var r=this.glCat.getRenderingContext();r.bindTexture(r.TEXTURE_2D,this.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),r.bindTexture(r.TEXTURE_2D,null)},t.prototype.setTexture=function(t){var e=this.glCat.getRenderingContext();e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.bindTexture(e.TEXTURE_2D,null),this.width=t.width,this.height=t.height},t.prototype.setTextureFromArray=function(t,e,r,n){void 0===n&&(n=i.default.RGBA);var o=this.glCat.getRenderingContext();o.bindTexture(o.TEXTURE_2D,this.texture),o.texImage2D(o.TEXTURE_2D,0,n,t,e,0,n,o.UNSIGNED_BYTE,r),o.bindTexture(o.TEXTURE_2D,null),this.width=t,this.height=e},t.prototype.setTextureFromFloatArray=function(t,e,r,n){void 0===n&&(n=i.default.RGBA);var o=this.glCat.getRenderingContext();this.glCat.getExtension("OES_texture_float",!0),o.bindTexture(o.TEXTURE_2D,this.texture),o.texImage2D(o.TEXTURE_2D,0,n,t,e,0,n,o.FLOAT,r),null===this.glCat.getExtension("OES_texture_float_linear")&&this.textureFilter(o.NEAREST),o.bindTexture(o.TEXTURE_2D,null),this.width=t,this.height=e},t.prototype.copyTexture=function(t,e){var r=this.glCat.getRenderingContext();r.bindTexture(r.TEXTURE_2D,this.texture),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,t,e,0),r.bindTexture(r.TEXTURE_2D,null),this.width=t,this.height=e},t.prototype.setCubemap=function(t){var e=this.glCat.getRenderingContext();e.bindTexture(e.TEXTURE_CUBE_MAP,this.texture);for(var r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t[r]);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_CUBE_MAP,null)},t}();e.GLCatTexture=o},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(0));e.GL=o.default,n(r(7)),n(r(1)),n(r(2)),n(r(3)),n(r(4)),n(r(5))},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),E=r(1),_=r(2),T=r(3),u=r(4),R=r(9),f=r(5),a=function(t){function e(e){var r=t.call(this)||this;return r.extensionCache={},r.gl=e,e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),r}return i(e,t),e.prototype.spit=function(e){if(!t.prototype.emit.call(this,"error",e))throw"string"==typeof e?new Error(e):e||new Error("Something went wrong")},e.prototype.getRenderingContext=function(){return this.gl},e.prototype.getExtension=function(t,e){var r=this.gl;return this.extensionCache[t]?this.extensionCache[t]:(this.extensionCache[t]=r.getExtension(t),this.extensionCache[t]?this.extensionCache[t]:(e&&this.spit('GLCat.getExtension: The extension "'+t+'" is not supported'),null))},e.prototype.getExtensions=function(t,e){var r=this;return t.map(function(t){return r.getExtension(t,e)})},e.prototype.createShader=function(t){var r=this.gl.createShader(t);return null===r?(this.spit(e.unexpectedNullDetectedError),null):new R.GLCatShader(this,r)},e.prototype.createProgram=function(){var t=this.gl.createProgram();return null===t?(this.spit(e.unexpectedNullDetectedError),null):new T.GLCatProgram(this,t)},e.prototype.lazyProgram=function(t,r){var n=this.gl,i=this.createShader(n.VERTEX_SHADER);if(null===i)return this.spit(e.unexpectedNullDetectedError),null;if(i.compile(t),!i.isCompiled())return i.dispose(),null;var o=this.createShader(n.FRAGMENT_SHADER);if(null===o)return i.dispose(),this.spit(e.unexpectedNullDetectedError),null;if(o.compile(r),!o.isCompiled())return i.dispose(),o.dispose(),null;var E=this.createProgram();return null===E?(i.dispose(),o.dispose(),this.spit(e.unexpectedNullDetectedError),null):(E.link(i,o),E.isLinked()?E:(i.dispose(),o.dispose(),E.dispose(),null))},e.prototype.useProgram=function(t){var r=this.gl;null!==t?r.useProgram(t.getProgram()):this.spit(e.unexpectedNullDetectedError)},e.prototype.createBuffer=function(){var t=this.gl.createBuffer();return null===t?(this.spit(e.unexpectedNullDetectedError),null):new E.GLCatBuffer(this,t)},e.prototype.createTexture=function(){var t=this.gl.createTexture();return null===t?(this.spit(e.unexpectedNullDetectedError),null):new f.GLCatTexture(this,t)},e.prototype.createRenderbuffer=function(){var t=this.gl.createRenderbuffer();return null===t?(this.spit(e.unexpectedNullDetectedError),null):new u.GLCatRenderbuffer(this,t)},e.prototype.createFramebuffer=function(){var t=this.gl.createFramebuffer();return null===t?(this.spit(e.unexpectedNullDetectedError),null):new _.GLCatFramebuffer(this,t)},e.prototype.lazyFramebuffer=function(t,r,n){void 0===n&&(n=!1);var i=this.createFramebuffer();if(null===i)return this.spit(e.unexpectedNullDetectedError),null;var o=this.createRenderbuffer();if(null===o)return i.dispose(),this.spit(e.unexpectedNullDetectedError),null;o.init(t,r),i.attachRenderbuffer(o);var E=this.createTexture();return null===E?(i.dispose(),o.dispose(),this.spit(e.unexpectedNullDetectedError),null):(n?E.setTextureFromFloatArray(t,r,null):E.setTextureFromArray(t,r,null),i.attachTexture(E),i)},e.prototype.clear=function(t,e,r,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=1);var o=this.gl;o.clearColor(t,e,r,n),o.clearDepth(i),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)},e.unexpectedNullDetectedError=new Error("GLCat: Unexpected null detected"),e}(o.EventEmitter);e.GLCat=a},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function E(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function _(t,e,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var _=new E(r,n||t,o),T=i?i+e:e;return t._events[T]?t._events[T].fn?t._events[T]=[t._events[T],_]:t._events[T].push(_):(t._events[T]=_,t._eventsCount++),t}function T(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},u.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,E=new Array(o);n<o;n++)E[n]=r[n].fn;return E},u.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,n,o,E){var _=i?i+t:t;if(!this._events[_])return!1;var T,u,R=this._events[_],f=arguments.length;if(R.fn){switch(R.once&&this.removeListener(t,R.fn,void 0,!0),f){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,e),!0;case 3:return R.fn.call(R.context,e,r),!0;case 4:return R.fn.call(R.context,e,r,n),!0;case 5:return R.fn.call(R.context,e,r,n,o),!0;case 6:return R.fn.call(R.context,e,r,n,o,E),!0}for(u=1,T=new Array(f-1);u<f;u++)T[u-1]=arguments[u];R.fn.apply(R.context,T)}else{var a,s=R.length;for(u=0;u<s;u++)switch(R[u].once&&this.removeListener(t,R[u].fn,void 0,!0),f){case 1:R[u].fn.call(R[u].context);break;case 2:R[u].fn.call(R[u].context,e);break;case 3:R[u].fn.call(R[u].context,e,r);break;case 4:R[u].fn.call(R[u].context,e,r,n);break;default:if(!T)for(a=1,T=new Array(f-1);a<f;a++)T[a-1]=arguments[a];R[u].fn.apply(R[u].context,T)}}return!0},u.prototype.on=function(t,e,r){return _(this,t,e,r,!1)},u.prototype.once=function(t,e,r){return _(this,t,e,r,!0)},u.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return T(this,o),this;var E=this._events[o];if(E.fn)E.fn!==e||n&&!E.once||r&&E.context!==r||T(this,o);else{for(var _=0,u=[],R=E.length;_<R;_++)(E[_].fn!==e||n&&!E[_].once||r&&E[_].context!==r)&&u.push(E[_]);u.length?this._events[o]=1===u.length?u[0]:u:T(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&T(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,t.exports=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.compiled=!1,this.glCat=t,this.shader=e}return t.prototype.dispose=function(){this.glCat.getRenderingContext().deleteShader(this.shader)},t.prototype.isCompiled=function(){return this.compiled},t.prototype.getShader=function(){return this.shader},t.prototype.compile=function(t){var e=this.glCat.getRenderingContext();e.shaderSource(this.shader,t),e.compileShader(this.shader),this.compiled=e.getShaderParameter(this.shader,e.COMPILE_STATUS),this.compiled||this.glCat.spit(e.getShaderInfoLog(this.shader))},t}();e.GLCatShader=n}])});