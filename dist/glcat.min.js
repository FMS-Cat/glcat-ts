/*! @fms-cat/glcat-ts v0.10.0 - (c) FMS-Cat, MIT License */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var _ in r)("object"==typeof exports?exports:e)[_]=r[_]}}(this,(function(){return function(e){var t={};function r(_){if(t[_])return t[_].exports;var i=t[_]={i:_,l:!1,exports:{}};return e[_].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,_){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:_})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var _=Object.create(null);if(r.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(_,i,function(t){return e[t]}.bind(null,i));return _},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GL={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=r(0),i=function(){function e(e,t){this.__glCat=e,this.__buffer=t}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this.__buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this.__buffer},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.__glCat.gl.deleteBuffer(this.__buffer)},e.prototype.setVertexbuffer=function(e,t){void 0===t&&(t=_.GL.STATIC_DRAW);var r=this.__glCat.gl;r.bindBuffer(r.ARRAY_BUFFER,this.__buffer),r.bufferData(r.ARRAY_BUFFER,e,t),r.bindBuffer(r.ARRAY_BUFFER,null)},e.prototype.setIndexbuffer=function(e,t){void 0===t&&(t=_.GL.STATIC_DRAW);var r=this.__glCat.gl;r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.__buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e,t),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)},e}();t.GLCatBuffer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=r(0),i=function(){function e(e,t){this.__renderbuffer=null,this.__textureMap={},this.__glCat=e,this.__framebuffer=t}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.__framebuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this.__framebuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderbuffer",{get:function(){return this.__renderbuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.__textureMap[_.GL.COLOR_ATTACHMENT0]},enumerable:!0,configurable:!0}),e.prototype.dispose=function(e){void 0===e&&(e=!1);var t=this.__glCat.gl;t.deleteFramebuffer(this.__framebuffer),e&&(this.__renderbuffer&&t.deleteRenderbuffer(this.__renderbuffer.raw),Object.values(this.__textureMap).forEach((function(e){t.deleteTexture(e.raw)})))},e.prototype.getTexture=function(e){return void 0===e&&(e=_.GL.COLOR_ATTACHMENT0),this.__textureMap[e]},e.prototype.attachRenderbuffer=function(e,t){void 0===t&&(t=_.GL.DEPTH_ATTACHMENT);var r=this.__glCat.gl;r.bindFramebuffer(r.FRAMEBUFFER,this.__framebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,e.raw),r.bindFramebuffer(r.FRAMEBUFFER,null),this.__renderbuffer=e},e.prototype.attachTexture=function(e,t){void 0===t&&(t=_.GL.COLOR_ATTACHMENT0);var r=this.__glCat.gl;r.bindFramebuffer(r.FRAMEBUFFER,this.__framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,t,r.TEXTURE_2D,e.raw,0),r.bindFramebuffer(r.FRAMEBUFFER,null),this.__textureMap[t]=e},e}();t.GLCatFramebuffer=i},function(e,t,r){"use strict";var _=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var _=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],n=0,E=o.length;n<E;n++,i++)_[i]=o[n];return _};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),o=function(){function e(e,t){this.__shaders=null,this.__attribLocationCache={},this.__uniformLocationCache={},this.__uniformTextureUnitMap={},this.__uniformtextureUnitIndex=0,this.__linked=!1,this.__glCat=e,this.__program=t}return Object.defineProperty(e.prototype,"program",{get:function(){return this.__program},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this.__program},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shaders",{get:function(){return this.__shaders?this.__shaders.concat():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLinked",{get:function(){return this.__linked},enumerable:!0,configurable:!0}),e.prototype.dispose=function(e){if(void 0===e&&(e=!1),this.__glCat.gl.deleteProgram(this.__program),e){var t=this.shaders;t&&t.forEach((function(e){e.dispose()}))}},e.prototype.link=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var _=this.__glCat.gl;if(t.forEach((function(t){return _.attachShader(e.__program,t.raw)})),_.linkProgram(this.__program),this.__linked=_.getProgramParameter(this.__program,_.LINK_STATUS),!this.__linked)throw new Error(_.getProgramInfoLog(this.__program));this.__shaders=t.concat()},e.prototype.linkAsync=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var _=this.__glCat,i=this.__glCat.gl,o=_.getExtension("KHR_parallel_shader_compile");return t.forEach((function(t){return i.attachShader(e.__program,t.raw)})),i.linkProgram(this.__program),new Promise((function(r,_){var n=function(){if(!o||!0===i.getProgramParameter(e.__program,o.COMPLETION_STATUS_KHR))return e.__linked=i.getProgramParameter(e.__program,i.LINK_STATUS),e.__linked?(e.__shaders=t.concat(),void r()):void _(i.getProgramInfoLog(e.__program));requestAnimationFrame(n)};n()}))},e.prototype.attribute=function(e,t,r,_,o,n,E){void 0===r&&(r=1),void 0===_&&(_=0),void 0===o&&(o=i.GL.FLOAT),void 0===n&&(n=0),void 0===E&&(E=0);var u=this.__glCat.gl,T=this.getAttribLocation(e);if(-1!==T)if(null!==t){u.bindBuffer(u.ARRAY_BUFFER,t.raw),u.enableVertexAttribArray(T),u.vertexAttribPointer(T,r,o,!1,n,E);var a=this.__glCat.getExtension("ANGLE_instanced_arrays");a&&a.vertexAttribDivisorANGLE(T,_),u.bindBuffer(u.ARRAY_BUFFER,null)}else u.disableVertexAttribArray(T)},e.prototype.uniform=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=this["uniform"+t];o.call.apply(o,_([this,e],r))},e.prototype.uniformVector=function(e,t,r){this["uniform"+t].call(this,e,r)},e.prototype.uniform1i=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform1i(_,t)},e.prototype.uniform2i=function(e,t,r){var _=this.__glCat.gl,i=this.getUniformLocation(e);_.uniform2i(i,t,r)},e.prototype.uniform3i=function(e,t,r,_){var i=this.__glCat.gl,o=this.getUniformLocation(e);i.uniform3i(o,t,r,_)},e.prototype.uniform4i=function(e,t,r,_,i){var o=this.__glCat.gl,n=this.getUniformLocation(e);o.uniform4i(n,t,r,_,i)},e.prototype.uniform1iv=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform1iv(_,t)},e.prototype.uniform2iv=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform2iv(_,t)},e.prototype.uniform3iv=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform3iv(_,t)},e.prototype.uniform4iv=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform4iv(_,t)},e.prototype.uniform1f=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform1f(_,t)},e.prototype.uniform2f=function(e,t,r){var _=this.__glCat.gl,i=this.getUniformLocation(e);_.uniform2f(i,t,r)},e.prototype.uniform3f=function(e,t,r,_){var i=this.__glCat.gl,o=this.getUniformLocation(e);i.uniform3f(o,t,r,_)},e.prototype.uniform4f=function(e,t,r,_,i){var o=this.__glCat.gl,n=this.getUniformLocation(e);o.uniform4f(n,t,r,_,i)},e.prototype.uniform1fv=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform1fv(_,t)},e.prototype.uniform2fv=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform2fv(_,t)},e.prototype.uniform3fv=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform3fv(_,t)},e.prototype.uniform4fv=function(e,t){var r=this.__glCat.gl,_=this.getUniformLocation(e);r.uniform4fv(_,t)},e.prototype.uniformMatrix2fv=function(e,t,r){void 0===r&&(r=!1);var _=this.__glCat.gl,i=this.getUniformLocation(e);_.uniformMatrix2fv(i,r,t)},e.prototype.uniformMatrix3fv=function(e,t,r){void 0===r&&(r=!1);var _=this.__glCat.gl,i=this.getUniformLocation(e);_.uniformMatrix3fv(i,r,t)},e.prototype.uniformMatrix4fv=function(e,t,r){void 0===r&&(r=!1);var _=this.__glCat.gl,i=this.getUniformLocation(e);_.uniformMatrix4fv(i,r,t)},e.prototype.uniformTexture=function(e,t){var r,_=this.__glCat.gl,i=this.getUniformLocation(e),o=this.getUniformTextureUnit(e);_.activeTexture(_.TEXTURE0+o),_.bindTexture(_.TEXTURE_2D,(null===(r=t)||void 0===r?void 0:r.raw)||null),_.uniform1i(i,o)},e.prototype.uniformCubemap=function(e,t){var r,_=this.__glCat.gl,i=this.getUniformLocation(e),o=this.getUniformTextureUnit(e);_.activeTexture(_.TEXTURE0+o),_.bindTexture(_.TEXTURE_CUBE_MAP,(null===(r=t)||void 0===r?void 0:r.raw)||null),_.uniform1i(i,o)},e.prototype.getAttribLocation=function(e){var t=this.__glCat.gl;if(void 0!==this.__attribLocationCache[e])return this.__attribLocationCache[e];var r=t.getAttribLocation(this.__program,e);return this.__attribLocationCache[e]=r,r},e.prototype.getUniformLocation=function(e){var t=this.__glCat.gl;if(void 0!==this.__uniformLocationCache[e])return this.__uniformLocationCache[e];var r=t.getUniformLocation(this.__program,e);return this.__uniformLocationCache[e]=r,r},e.prototype.getUniformTextureUnit=function(e){return void 0===this.__uniformTextureUnitMap[e]&&(this.__uniformTextureUnitMap[e]=this.__uniformtextureUnitIndex,this.__uniformtextureUnitIndex++),this.__uniformTextureUnitMap[e]},e}();t.GLCatProgram=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=r(0),i=function(){function e(e,t){this.__width=0,this.__height=0,this.__glCat=e,this.__renderbuffer=t}return Object.defineProperty(e.prototype,"renderbuffer",{get:function(){return this.__renderbuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this.__renderbuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.__width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.__height},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.__glCat.gl.deleteRenderbuffer(this.__renderbuffer)},e.prototype.init=function(e,t,r){void 0===r&&(r=_.GL.DEPTH_COMPONENT16);var i=this.__glCat.gl;i.bindRenderbuffer(i.RENDERBUFFER,this.__renderbuffer),i.renderbufferStorage(i.RENDERBUFFER,r,e,t),i.bindRenderbuffer(i.RENDERBUFFER,null),this.__width=e,this.__height=t},e}();t.GLCatRenderbuffer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(e,t){this.__compiled=!1,this.__glCat=e,this.__shader=t}return Object.defineProperty(e.prototype,"shader",{get:function(){return this.__shader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this.__shader},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.__glCat.gl.deleteShader(this.__shader)},e.prototype.isCompiled=function(){return this.__compiled},e.prototype.compile=function(e){var t=this.__glCat.gl;if(t.shaderSource(this.__shader,e),t.compileShader(this.__shader),this.__compiled=t.getShaderParameter(this.__shader,t.COMPILE_STATUS),!this.__compiled)throw new Error(t.getShaderInfoLog(this.__shader))},e}();t.GLCatShader=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=r(0),i=new Uint8Array([0,0,0,0]),o=function(){function e(e,t){this.__width=0,this.__height=0,this.__glCat=e,this.__texture=t,this.textureFilter(_.GL.LINEAR),this.textureWrap(_.GL.CLAMP_TO_EDGE)}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.__texture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this.__texture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.__width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.__height},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.__glCat.gl.deleteTexture(this.__texture)},e.prototype.textureFilter=function(e,t){void 0===e&&(e=_.GL.NEAREST),void 0===t&&(t=e);var r=this.__glCat.gl;r.bindTexture(r.TEXTURE_2D,this.__texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t),r.bindTexture(r.TEXTURE_2D,null)},e.prototype.textureWrap=function(e,t){void 0===e&&(e=_.GL.CLAMP_TO_EDGE),void 0===t&&(t=e);var r=this.__glCat.gl;r.bindTexture(r.TEXTURE_2D,this.__texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),r.bindTexture(r.TEXTURE_2D,null)},e.prototype.getParameter=function(e){var t=this.__glCat.gl;t.bindTexture(t.TEXTURE_2D,this.__texture),t.getParameter(e),t.bindTexture(t.TEXTURE_2D,null)},e.prototype.pixelStorei=function(e,t){var r=this.__glCat.gl;r.bindTexture(r.TEXTURE_2D,this.__texture),r.pixelStorei(e,t),r.bindTexture(r.TEXTURE_2D,null)},e.prototype.setTexture=function(e){var t=this.__glCat.gl;t.bindTexture(t.TEXTURE_2D,this.__texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.bindTexture(t.TEXTURE_2D,null),this.__width=e.width,this.__height=e.height},e.prototype.setTextureFromArray=function(e,t,r,i){void 0===i&&(i=_.GL.RGBA);var o=this.__glCat.gl;o.bindTexture(o.TEXTURE_2D,this.__texture),o.texImage2D(o.TEXTURE_2D,0,i,e,t,0,i,o.UNSIGNED_BYTE,r),o.bindTexture(o.TEXTURE_2D,null),this.__width=e,this.__height=t},e.prototype.setTextureFromFloatArray=function(e,t,r,i){void 0===i&&(i=_.GL.RGBA);var o=this.__glCat.gl;this.__glCat.getExtension("OES_texture_float",!0),o.bindTexture(o.TEXTURE_2D,this.__texture),o.texImage2D(o.TEXTURE_2D,0,i,e,t,0,i,o.FLOAT,r),null===this.__glCat.getExtension("OES_texture_float_linear")&&this.textureFilter(o.NEAREST),o.bindTexture(o.TEXTURE_2D,null),this.__width=e,this.__height=t},e.prototype.copyTexture=function(e,t){var r=this.__glCat.gl;r.bindTexture(r.TEXTURE_2D,this.__texture),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,e,t,0),r.bindTexture(r.TEXTURE_2D,null),this.__width=e,this.__height=t},e.prototype.setCubemap=function(e){var t=this.__glCat.gl;t.bindTexture(t.TEXTURE_CUBE_MAP,this.__texture);for(var r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e[r]);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_CUBE_MAP,null)},e.prototype.setZeroTexture=function(){this.setTextureFromArray(1,1,i)},e}();t.GLCatTexture=o},function(e,t,r){"use strict";function _(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),_(r(0)),_(r(8)),_(r(1)),_(r(2)),_(r(3)),_(r(4)),_(r(5)),_(r(6))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=r(1),i=r(2),o=r(3),n=r(4),E=r(5),u=r(6),T=function(){function e(e){this.__extensionCache={},this.__gl=e,e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)}return Object.defineProperty(e.prototype,"renderingContext",{get:function(){return this.__gl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gl",{get:function(){return this.__gl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dummyTexture",{get:function(){if(this.__dummyTextureCache)return this.__dummyTextureCache;var t=this.createTexture();if(null===t)throw new Error(e.unexpectedNullDetectedError);return t.setTextureFromArray(1,1,new Uint8Array([255,0,255,255])),this.__dummyTextureCache=t,t},enumerable:!0,configurable:!0}),e.prototype.getExtension=function(e,t){var r=this.__gl;if(this.__extensionCache[e])return this.__extensionCache[e];if(this.__extensionCache[e]=r.getExtension(e),this.__extensionCache[e])return this.__extensionCache[e];if(t)throw new Error('GLCat.getExtension: The extension "'+e+'" is not supported');return null},e.prototype.getExtensions=function(e,t){var r=this;return e.map((function(e){return r.getExtension(e,t)}))},e.prototype.createShader=function(t){var r=this.__gl.createShader(t);if(null===r)throw new Error(e.unexpectedNullDetectedError);return new E.GLCatShader(this,r)},e.prototype.createProgram=function(){var t=this.__gl.createProgram();if(null===t)throw new Error(e.unexpectedNullDetectedError);return new o.GLCatProgram(this,t)},e.prototype.lazyProgram=function(t,r){var _=this.__gl,i=this.createShader(_.VERTEX_SHADER);if(null===i)throw new Error(e.unexpectedNullDetectedError);try{i.compile(t)}catch(e){throw i.dispose(),e}var o=this.createShader(_.FRAGMENT_SHADER);if(null===o)throw i.dispose(),new Error(e.unexpectedNullDetectedError);try{o.compile(r)}catch(e){throw i.dispose(),o.dispose(),e}var n=this.createProgram();if(null===n)throw i.dispose(),o.dispose(),new Error(e.unexpectedNullDetectedError);try{n.link(i,o)}catch(e){throw i.dispose(),o.dispose(),n.dispose(),e}return n},e.prototype.lazyProgramAsync=function(t,r){var _=this.__gl,i=this.createShader(_.VERTEX_SHADER);if(null===i)return Promise.reject(new Error(e.unexpectedNullDetectedError));try{i.compile(t)}catch(e){return i.dispose(),Promise.reject(e)}var o=this.createShader(_.FRAGMENT_SHADER);if(null===o)return i.dispose(),Promise.reject(new Error(e.unexpectedNullDetectedError));try{o.compile(r)}catch(e){return i.dispose(),o.dispose(),Promise.reject(e)}var n=this.createProgram();return null===n?(i.dispose(),o.dispose(),Promise.reject(new Error(e.unexpectedNullDetectedError))):n.linkAsync(i,o).then((function(){return n})).catch((function(e){throw i.dispose(),o.dispose(),n.dispose(),e}))},e.prototype.useProgram=function(e){var t;this.__gl.useProgram((null===(t=e)||void 0===t?void 0:t.raw)||null)},e.prototype.createBuffer=function(){var t=this.__gl.createBuffer();if(null===t)throw new Error(e.unexpectedNullDetectedError);return new _.GLCatBuffer(this,t)},e.prototype.createTexture=function(){var t=this.__gl.createTexture();if(null===t)throw new Error(e.unexpectedNullDetectedError);return new u.GLCatTexture(this,t)},e.prototype.createRenderbuffer=function(){var t=this.__gl.createRenderbuffer();if(null===t)throw new Error(e.unexpectedNullDetectedError);return new n.GLCatRenderbuffer(this,t)},e.prototype.createFramebuffer=function(){var t=this.__gl.createFramebuffer();if(null===t)throw new Error(e.unexpectedNullDetectedError);return new i.GLCatFramebuffer(this,t)},e.prototype.lazyFramebuffer=function(t,r,_){void 0===_&&(_=!1);var i=this.createFramebuffer();if(null===i)throw new Error(e.unexpectedNullDetectedError);var o=this.createRenderbuffer();if(null===o)throw i.dispose(),new Error(e.unexpectedNullDetectedError);o.init(t,r),i.attachRenderbuffer(o);var n=this.createTexture();if(null===n)throw i.dispose(),o.dispose(),new Error(e.unexpectedNullDetectedError);return _?n.setTextureFromFloatArray(t,r,null):n.setTextureFromArray(t,r,null),i.attachTexture(n),i},e.prototype.lazyDrawbuffers=function(t,r,_,i){void 0===i&&(i=!1);var o=this.getExtension("WEBGL_draw_buffers",!0);if(o.MAX_DRAW_BUFFERS_WEBGL<_)throw Error("GLCat: Maximum draw buffers count exceeded");var n=this.createFramebuffer();if(null===n)throw new Error(e.unexpectedNullDetectedError);var E=this.createRenderbuffer();if(null===E)throw n.dispose(),new Error(e.unexpectedNullDetectedError);E.init(t,r),n.attachRenderbuffer(E);for(var u=0;u<_;u++){var T=this.createTexture();if(null===T)throw n.dispose(),E.dispose(),new Error(e.unexpectedNullDetectedError);i?T.setTextureFromFloatArray(t,r,null):T.setTextureFromArray(t,r,null),n.attachTexture(T,o.COLOR_ATTACHMENT0_WEBGL+u)}return n},e.prototype.drawBuffers=function(e){var t=this.getExtension("WEBGL_draw_buffers",!0);if(Array.isArray(e))t.drawBuffersWEBGL(e);else{for(var r=[],_=0;_<e;_++)r[_]=t.COLOR_ATTACHMENT0_WEBGL+_;t.drawBuffersWEBGL(r)}},e.prototype.clear=function(e,t,r,_,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===_&&(_=1),void 0===i&&(i=1);var o=this.__gl;o.clearColor(e,t,r,_),o.clearDepth(i),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)},e.unexpectedNullDetectedError="GLCat: Unexpected null detected",e}();t.GLCat=T}])}));